<div align="center">
    <h1>~ timedmap ~</h1>
    <strong>A map which has expiring key-value pairs.</strong><br><br>
    <a href="https://godoc.org/github.com/zekroTJA/timedmap"><img src="https://godoc.org/github.com/zekroTJA/timedmap?status.svg" /></a>&nbsp;
    <a href="https://travis-ci.org/zekroTJA/timedmap" ><img src="https://travis-ci.org/zekroTJA/timedmap.svg?branch=master" /></a>&nbsp;
    <a href="https://coveralls.io/github/zekroTJA/timedmap"><img src="https://coveralls.io/repos/github/zekroTJA/timedmap/badge.svg" /></a>&nbsp;
    <a href="https://goreportcard.com/report/github.com/zekroTJA/timedmap"><img src="https://goreportcard.com/badge/github.com/zekroTJA/timedmap"/></a>&nbsp;
	<a href="https://github.com/avelino/awesome-go"><img src="https://awesome.re/mentioned-badge.svg"/></a>
<br>
</div>

---

<div align="center">
    <code>go get github.com/zekroTJA/timedmap</code>
</div>

---

## Intro

This package allows to set values to a map which will expire and disappear after a specified time.

[Here](https://godoc.org/github.com/zekroTJA/timedmap) you can read the docs of this package, generated by godoc.org.

---

## Usage Example

```go
package main

import (
	"log"
	"time"

	"github.com/zekroTJA/timedmap"
)

func main() {
	// Create a timed map with a cleanup timer interval of 1 second
	tm := timedmap.New(1 * time.Second)
	// Set value of key "hey" to 213, which will expire after 3 seconds
	tm.Set("hey", 213, 3*time.Second)
	// Print the value of "hey"
	printKeyVal(tm, "hey")
	// Block the main thread for 5 seconds
	// After this time, the key-value pair "hey": 213 has expired
	time.Sleep(5 * time.Second)
	// Now, this function should show that there is no key "hey"
	// in the map, because it has been expired
	printKeyVal(tm, "hey")
}

func printKeyVal(tm *timedmap.TimedMap, key interface{}) {
	d := tm.GetValue(key)
	if d == nil {
		log.Println("data expired")
		return
	}

	dInt := d.(int)
	log.Printf("%v = %d\n", key, dInt)
}
```

Further examples, you can find in the [example](examples) directory.

---

Copyright (c) 2019 zekro Development (Ringo Hoffmann).  
Covered by MIT licence.
